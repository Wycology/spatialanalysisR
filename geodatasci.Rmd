---
title: "Geo_Data_Sci_R"
author: "Wyclife Agumba Oluoch"
date: "1/22/2021"
output: html_document
---

### Loading Libraries

Loading the necessary packages to use in the codes which will be helpful in 
analyzing geographic data in R.

```{r packages, include=FALSE}
library(sf)
library(tidyverse)
```

The data which I will use in the current work can be [directly downloaded](https://opendata.arcgis.com/datasets/f99ce43936d74f718e92a37a560ad875_0.zip), extracted, and saved in the subfolder called *shp* inside the .Rmd file folder.

The next step is to read in the data using `st_read()`. I will call the created object honeybee

```{r loading, echo=FALSE, message=FALSE, warning=FALSE}
honeybee <- st_read('shp/HoneyBeePermits2017.shp')

```

There is a lot of information which we get by loading the data. We can extract such information individually, for example:

```{r geometry}
str(honeybee$geometry) 
```

This is telling us that we are working with a point feature. Such a cool information to have. Now we may need to know the coordinate reference system of our data

```{r coordinaes}
st_crs(honeybee)
```

This is returning a super helppful information. We can also have the information within the text as `r st_crs(honeybee)`. I still have no idea how the output will look like. Let us see by knitting the markdown. Everything thrown to text.

Now the next step would be to check for self intersection in our data. 

```{r validity}
sum(st_is_valid(honeybee) == TRUE)
```

We do not have any problem of self-intersection in our dataset. Okay this is reminding me of something I was working on and worried how to solve it in QGIS without much success. That is I accidentally criss-crossed same line feature while digitizing rivers and I could not trace the object to edit it. I will create  dummy feature with such error in QGIS and load it.

```{r dummy}
dummy <- st_read('shp/dummy.shp')
```

The dummy feature is read seamlessly. I know the line has crossed itself at some point. Let me now check for its validity.

```{r dummy_validity}
sum(st_is_valid(dummy) == TRUE)
```

This seams to be fine even though I kno the lines cut themselves at some point. Let me try this with a poygon. I will create two polygons, one kind of a rectangle and the other a funny shape which cuts itself. I think that the latter should be an invalid polygon. Here we go.








